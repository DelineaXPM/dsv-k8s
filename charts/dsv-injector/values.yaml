# Default values for the Delina DevOps Secrets Vault (DSV) Secrets Injector
# Kubernetes API Server Mutating Webhook.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: thycotic/dsv-injector
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podSecurityContext: {}
  # fsGroup: 2000

securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

service:
  type: LoadBalancer
  port: 8543

resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

# webhookUri is path portion of the URL of the webhook endpoint
webhookUri: /inject
# webhookPort is the port that the webhook endpoint is listening on
webhookPort: 8543
# containerPort is the port that the container itself listens on
containerPort: 18543

# rolesJson contains the JSON-formatted roles file (see README.md)
rolesJson: >-
  {
    "default": {
      "credentials": {
        "clientId": "89abcdef-1234-5678-abcd-1234567890ab",
        "clientSecret": "ZW5jcnlwdGVkIHNlY3JldCDwn6Sr"
      },
      "tenant": "example"
    }
  }

# caBundle contains the CA certificate chain in Base64, of course.
# For Minikube it's the contents of ${HOME}/.minikube/ca.crt
caBundle: |-
  -----BEGIN CERTIFICATE-----
  MIIEJzCCAw+gAwIBAgIUFYI0CRYg7DBEfI5jryJIaCMl9r4wDQYJKoZIhvcNAQEL
  BQAwgaIxCzAJBgNVBAYTAlVTMRYwFAYDVQQIDA1XYXNoaW5ndG9uIERDMRYwFAYD
  VQQHDA1XYXNoaW5ndG9uIERDMRAwDgYDVQQKDAdEZWxpbmVhMRUwEwYDVQQLDAxI
  ZWFkcXVhcnRlcnMxFjAUBgNVBAMMDWRlbGluZWEubG9jYWwxIjAgBgkqhkiG9w0B
  CQEWE2NvbnRhY3RAZGVsaW5lYS5jb20wHhcNMjIwMjEyMDM0NDAzWhcNMjcwMjEx
  MDM0NDAzWjCBojELMAkGA1UEBhMCVVMxFjAUBgNVBAgMDVdhc2hpbmd0b24gREMx
  FjAUBgNVBAcMDVdhc2hpbmd0b24gREMxEDAOBgNVBAoMB0RlbGluZWExFTATBgNV
  BAsMDEhlYWRxdWFydGVyczEWMBQGA1UEAwwNZGVsaW5lYS5sb2NhbDEiMCAGCSqG
  SIb3DQEJARYTY29udGFjdEBkZWxpbmVhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQAD
  ggEPADCCAQoCggEBAPAWocg3GrGLBuTrQy+4r5aKsx6p9ad9iRbaLooMYanP+r3W
  OhK8IlJNxaJXcq+3uoPoxvHXwxRyxquvM3nso5mg4+OJfR9MlYs/MSrCoT/ns9lq
  6WZC0zN8ehQC2ZR4uYMW20xcdYapXAHQESoTgSZ/N9Y9+okKIvJj3/lKLenbiAZL
  +4CbtGHWOruh2G50/ZKanLogC2BpI0PqcOS70Y8DfhXRQsy2BitYpVuPPOARHE6a
  PN2osWBJV1OZhPw+m0k3cworPlG5R5AEyeroSYLcdQ8tO8a4c1DmHcjdKvBNayTg
  b3XhZqgLq1M/YW90lL/lCun7ICsq467x4EZJ/LMCAwEAAaNTMFEwHQYDVR0OBBYE
  FIdBbv5Wc1X95Zh2s7OrTrRkayOsMB8GA1UdIwQYMBaAFIdBbv5Wc1X95Zh2s7Or
  TrRkayOsMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBANGKXClP
  aGqqIBskks2XgM3UNkD1SDBZsjw/s2meyxsN/3jbBKDOrqmvL0yP6Dvx/RejFQcS
  SCA2ftGrq5XWpy5PU9VS+CnPNobqPpE/wxXIwi/n9n6H+7auUeWByZZrFRJPJyAL
  asuE5ZwwtWju/5CfDcEcZIW6Ejj6U7NtHTv7MMfvpI/81aFddLPHbEQFrB+jLmG9
  zm/454p+IBnGrqxV6vbIVf+dSpSFpNOwGbMpS1TDkWCn8GiPLQDuNzKpvirULFvW
  s1r5+1ed8Te1MsOzlUzUbr/3uPSfsHwqNEy0nXohLOK97+bkNVjtpS05iggWXWzk
  mgQKmDhWWVG+p9c=
  -----END CERTIFICATE-----
